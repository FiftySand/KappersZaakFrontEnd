{"remainingRequest":"C:\\.School\\1School\\Solo\\KappersZaakFrontEnd\\kapperszaakfrontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\.School\\1School\\Solo\\KappersZaakFrontEnd\\kapperszaakfrontend\\src\\views\\Appointment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\.School\\1School\\Solo\\KappersZaakFrontEnd\\kapperszaakfrontend\\src\\views\\Appointment.vue","mtime":1611224572868},{"path":"C:\\.School\\1School\\Solo\\KappersZaakFrontEnd\\kapperszaakfrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\.School\\1School\\Solo\\KappersZaakFrontEnd\\kapperszaakfrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\.School\\1School\\Solo\\KappersZaakFrontEnd\\kapperszaakfrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\.School\\1School\\Solo\\KappersZaakFrontEnd\\kapperszaakfrontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgppbXBvcnQga2FwcGVyQ2FyZEFwcG9pbnRtZW50IGZyb20gIkAvY29tcG9uZW50cy9rYXBwZXJDYXJkQXBwb2ludG1lbnQudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBiYXJiZXJjYXJkOiBrYXBwZXJDYXJkQXBwb2ludG1lbnQsCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRTZWxlY3RlZEl0ZW06IGZ1bmN0aW9uKG15YXJnKSB7CiAgICAgIC8vIEp1c3QgYSByZWd1bGFyIGpzIGZ1bmN0aW9uIHRoYXQgdGFrZXMgMSBhcmcKICAgICAgdGhpcy5saXN0LmZvckVhY2goKGthcHBlcikgPT4gewogICAgICAgIGlmIChrYXBwZXIua2FwcGVyLmlkID09IG15YXJnKSB7CiAgICAgICAgICAodGhpcy5LYXBwZXIuaWQgPSBteWFyZyksCiAgICAgICAgICAgICh0aGlzLkthcHBlci5uYW1lID0ga2FwcGVyLmthcHBlci5uYW1lKSwKICAgICAgICAgICAgKHRoaXMuS2FwcGVyLmFnZSA9IGthcHBlci5rYXBwZXIuYWdlKSwKICAgICAgICAgICAgKHRoaXMuYWN0aXZhdGVkQ2FyZCA9IHRydWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25TdWJtaXQoZXZ0KSB7CiAgICAgIGNvbnNvbGUubG9nKGV2dCk7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpLAogICAgICAgIGNvbnNvbGUubG9nKCJoaWVyIGRlIGluZm8iKSwKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmFwcG9pbnRtZW50KSwKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLkFjY291bnQpLAogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuS2FwcGVyKTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo5OTk5L2FwcG9pbnRtZW50IiwgewogICAgICAgICAgYWNjb3VudDogdGhpcy5BY2NvdW50LAogICAgICAgICAga2FwcGVyOiB0aGlzLkthcHBlciwKICAgICAgICAgIGRhdGU6IHRoaXMuYXBwb2ludG1lbnQuZGF0ZSwKICAgICAgICAgIHRpbWU6IHRoaXMuYXBwb2ludG1lbnQudGltZSwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgYWxlcnQoCiAgICAgICAgICAgICJBZnNwcmFhayBhYW5nZW1hYWt0IG9wICIgKwogICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuYXBwb2ludG1lbnQuZGF0ZS5nZSArCiAgICAgICAgICAgICAgIiBvbSAiICsKICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLmFwcG9pbnRtZW50LnRpbWUgKwogICAgICAgICAgICAgICIgbWV0ICIgKwogICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuYXBwb2ludG1lbnQua2FwcGVyLm5hbWUKICAgICAgICAgICk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CgogICAgcmV0dXJuIHsKICAgICAgYXBwb2ludG1lbnQ6IHsKICAgICAgICBkYXRlOiAiIiwKICAgICAgICB0aW1lOiAiIiwKICAgICAgfSwKICAgICAgQWNjb3VudDogewogICAgICAgIG5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyTmFtZSIpLAogICAgICB9LAogICAgICBhY3RpdmF0ZWRDYXJkOiBmYWxzZSwKICAgICAgbWluOiBub3csCiAgICAgIG1heDogbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpICsgMiksCiAgICAgIGxpc3Q6IFtdLAogICAgICBrYXBwZXJzOiBbXSwKICAgICAgS2FwcGVyOiB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGFnZTogIiIsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo5OTk5L2thcHBlciIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICh0aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLl9lbWJlZGRlZC5rYXBwZXJSZXNvdXJjZUxpc3QpLAogICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKChrYXBwZXIpID0+IHsKICAgICAgICAgIHRoaXMua2FwcGVycy5wdXNoKHsKICAgICAgICAgICAgdmFsdWU6IGthcHBlci5rYXBwZXIuaWQsCiAgICAgICAgICAgIHRleHQ6IGthcHBlci5rYXBwZXIubmFtZSwKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSk7CgogICAgY29uc29sZS5sb2codGhpcy5rYXBwZXJzKTsKICB9LAp9Owo="},{"version":3,"sources":["Appointment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Appointment.vue","sourceRoot":"src/views","sourcesContent":["<template v-if=\"childDataLoaded\">\n  <div>\n    <b-container\n      style=\"background-color: rgba(200, 200, 200, 0.2)\"\n      class=\"pt-3\"\n    >\n      <b-row>\n        <barbercard\n          v-if=\"activatedCard\"\n          :key=\"Kapper.id\"\n          :name=\"Kapper.name\"\n          :age=\"Kapper.age\"\n          class=\"animate__animated animate__backInDown animate__delay0.5s mb-2\"\n        ></barbercard>\n        <barbercard v-else style=\"visibility: hidden; display: block\">\n        </barbercard>\n\n        <b-col>\n          <b-form @submit=\"onSubmit\" id=\"appointmentForm\" align-h=\"end\">\n            <b-form-select\n              :options=\"kappers\"\n              v-on:change=\"getSelectedItem\"\n              class=\"animate__animated animate__bounce animate__delay2s\"\n            ></b-form-select>\n\n            <b-form-datepicker\n              id=\"example-datepicker\"\n              v-model=\"appointment.date\"\n              :min=\"min\"\n              :max=\"max\"\n              class=\"mb-5 mt-5\"\n            ></b-form-datepicker>\n            <b-form-timepicker\n              v-model=\"appointment.time\"\n              locale=\"de\"\n            ></b-form-timepicker>\n\n            <b-button type=\"submit\" variant=\"primary\" class=\"mt-3\"\n              >Login</b-button\n            >\n          </b-form>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nimport kapperCardAppointment from \"@/components/kapperCardAppointment.vue\";\n\nexport default {\n  components: {\n    barbercard: kapperCardAppointment,\n  },\n  methods: {\n    getSelectedItem: function(myarg) {\n      // Just a regular js function that takes 1 arg\n      this.list.forEach((kapper) => {\n        if (kapper.kapper.id == myarg) {\n          (this.Kapper.id = myarg),\n            (this.Kapper.name = kapper.kapper.name),\n            (this.Kapper.age = kapper.kapper.age),\n            (this.activatedCard = true);\n        }\n      });\n    },\n    onSubmit(evt) {\n      console.log(evt);\n      evt.preventDefault(),\n        console.log(\"hier de info\"),\n        console.log(this.appointment),\n        console.log(this.Account),\n        console.log(this.Kapper);\n      axios\n        .post(\"http://localhost:9999/appointment\", {\n          account: this.Account,\n          kapper: this.Kapper,\n          date: this.appointment.date,\n          time: this.appointment.time,\n        })\n        .then((response) => {\n          console.log(response);\n          alert(\n            \"Afspraak aangemaakt op \" +\n              response.data.appointment.date.ge +\n              \" om \" +\n              response.data.appointment.time +\n              \" met \" +\n              response.data.appointment.kapper.name\n          );\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n  data() {\n    const now = new Date();\n\n    return {\n      appointment: {\n        date: \"\",\n        time: \"\",\n      },\n      Account: {\n        name: localStorage.getItem(\"userName\"),\n      },\n      activatedCard: false,\n      min: now,\n      max: new Date(now.getFullYear(), now.getMonth(), now.getDate() + 2),\n      list: [],\n      kappers: [],\n      Kapper: {\n        id: \"\",\n        name: \"\",\n        age: \"\",\n      },\n    };\n  },\n  mounted() {\n    axios.get(\"http://localhost:9999/kapper\").then((response) => {\n      (this.list = response.data._embedded.kapperResourceList),\n        this.list.forEach((kapper) => {\n          this.kappers.push({\n            value: kapper.kapper.id,\n            text: kapper.kapper.name,\n          });\n        });\n    });\n\n    console.log(this.kappers);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}